{% extends 'game/base.html' %}

{% load compress %}
{% load static %}

{% block scripts %}
{{block.super}}
  <script src="/static/game/js/levelSelection.js"></script>
{% endblock %}

{% block css %}
{{block.super}}
  {% compress css %}
      <link href="{% static 'game/css/level_selection.css' %}" rel="stylesheet" type="text/css">
  {% endcompress %}
{% endblock %}

{% block nav_ocargo_levels %}<b><a href="{% url 'game.views.levels' %}">Levels</a></b>{% endblock nav_ocargo_levels %}

{% block content %}
	<div class="section group">
		<div class="col span_1_of_3_strict">
			<h3 style="text-align : center"> Welcome to Rapid Router!</h3>
			<img class="wide rounded" src="{% static 'portal/img/RRlogo_on_less_green_small.png' %}" />
		</div>
		<div class="col span_2_of_3_strict">
			<h3 style="text-align : center">Select a level!</h3>
			<div id="episodes">
			    {% for episode in episodeData %}
			    <h3>{{episode.name}}</h3>
			    <div>
			        {% for level in episode.levels %}
			        <!-- Marking titles as safe to enable bold, not to be used for user-created levels -->
			        <p><a href="/game/{{level.id}}">{{level.id}}: {{level.title.strip | safe}}</a> 
			        {% if level.score != None %}<span style="float:right;">{{level.score|floatformat}}/20{% endif %}</span></p>
			        {% endfor %}
			        
			        <p><a href="levels/random/{{episode.id}}">Random: Try your hand at a random level.</a></p>
			    </div>
			    {% endfor %}
			</div>
			<div id="container"></div>
		</div>
	</div>
{% endblock content %}
