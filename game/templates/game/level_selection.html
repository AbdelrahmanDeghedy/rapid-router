{% extends 'game/base.html' %}

{% load compress %}
{% load static %}

{% block scripts %}
{{block.super}}
  <script src="/static/game/js/levelSelection.js"></script>
{% endblock %}

{% block css %}
{{block.super}}
      <link href="{% static 'game/css/level_selection.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block nav_ocargo_levels %}<b><a href="{% url 'game.views.levels' %}">Levels</a></b>{% endblock nav_ocargo_levels %}

{% block content %}
	<div class="section group">
		<div class="col span_1_of_3_strict">
			<img class="wide rounded" src="{% static 'portal/img/RRlogo_on_less_green_small.png' %}" />
		</div>
		<div class="col span_2_of_3_strict">
			<div id="episodes">
			    {% for episode in episodeData %}
			    <h3>{{episode.name}}<span style="float:right; font-size: 10pt">Levels {{episode.first_level}}-{{episode.last_level}}</span></h3>
			    <div>
			        {% for level in episode.levels %}
			        <!-- Marking titles as safe to enable bold, not to be used for user-created levels -->
			        <p><a href="/game/{{level.id}}">{{level.id}}: {{level.title.strip | safe}}</a> 
			        {% if level.score != None %}<span style="float:right;">{{level.score|floatformat}}/20{% endif %}</span></p>
			        {% endfor %}
			        
			        <p><a href="levels/random/{{episode.id}}">Random: Try your hand at a random level.</a></p>
			    </div>
			    {% endfor %}
			    <h3 class='customLevelsEpisode'>Levels created by you</h3>
			    <div>
			    	{% if owned_levels %}
			    		{% for level in owned_levels %}
			    			<p><a href="/game/{{ level.id }}">{{level.name}}</a></p>
			    		{% endfor %}
			    	{% else %}
			    		<p>No levels have been created by you yet.</p>
			    	{% endif %}
			    </div>
			    <h3 class='customLevelsEpisode'>Levels shared with you</h3>
			    <div>
			    	<p>No levels have been shared with you yet.</p>
			    </div>
			</div>
			<div id="container"></div>
		</div>
	</div>
{% endblock content %}
